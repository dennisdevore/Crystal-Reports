create or replace view ship_note_945_cnt
(
    orderid,
    shipid,
    custid,
    lpid,
    fromlpid,
    plt_sscc18,
    ctn_sscc18,
    trackingno,
    link_plt_sscc18,
    link_ctn_sscc18,
    link_trackingno,
    assignedid,
    item,
    lotnumber,
    link_lotnumber,
    useritem1,
    useritem2,
    useritem3,
    qty,
    UOM,
    cartons,
    dtlpassthruchar01,
    dtlpassthruchar02,
    dtlpassthruchar03,
    dtlpassthruchar04,
    dtlpassthruchar05,
    dtlpassthruchar06,
    dtlpassthruchar07,
    dtlpassthruchar08,
    dtlpassthruchar09,
    dtlpassthruchar10,
    dtlpassthruchar11,
    dtlpassthruchar12,
    dtlpassthruchar13,
    dtlpassthruchar14,
    dtlpassthruchar15,
    dtlpassthruchar16,
    dtlpassthruchar17,
    dtlpassthruchar18,
    dtlpassthruchar19,
    dtlpassthruchar20,
    dtlpassthruchar21,
    dtlpassthruchar22,
    dtlpassthruchar23,
    dtlpassthruchar24,
    dtlpassthruchar25,
    dtlpassthruchar26,
    dtlpassthruchar27,
    dtlpassthruchar28,
    dtlpassthruchar29,
    dtlpassthruchar30,
    dtlpassthruchar31,
    dtlpassthruchar32,
    dtlpassthruchar33,
    dtlpassthruchar34,
    dtlpassthruchar35,
    dtlpassthruchar36,
    dtlpassthruchar37,
    dtlpassthruchar38,
    dtlpassthruchar39,
    dtlpassthruchar40,
    dtlpassthrunum01,
    dtlpassthrunum02,
    dtlpassthrunum03,
    dtlpassthrunum04,
    dtlpassthrunum05,
    dtlpassthrunum06,
    dtlpassthrunum07,
    dtlpassthrunum08,
    dtlpassthrunum09,
    dtlpassthrunum10,
    dtlpassthrunum11,
    dtlpassthrunum12,
    dtlpassthrunum13,
    dtlpassthrunum14,
    dtlpassthrunum15,
    dtlpassthrunum16,
    dtlpassthrunum17,
    dtlpassthrunum18,
    dtlpassthrunum19,
    dtlpassthrunum20,
    dtlpassthrudate01,
    dtlpassthrudate02,
    dtlpassthrudate03,
    dtlpassthrudate04,
    dtlpassthrudoll01,
    dtlpassthrudoll02,
    po,
    weight,
    volume,
    descr,
    odqtyship,
    odqtyorder,
    lineseq,
    hazardous,
    fromlpidlast6,
    fromlpidlast7,
    itemdescr,
    manufacturedate,
    shippingcost,
    shippingweight,
    serialnumber,
    labeltype,
    itmpassthruchar01,
    expirationdate,
    itmpassthruchar02,
    itmpassthruchar03,
    itmpassthruchar04,
    itmpassthruchar05,
    itmpassthruchar06,
    itmpassthruchar07,
    itmpassthruchar08,
    itmpassthruchar09,
    itmpassthruchar10,
    itmpassthrunum01,
    itmpassthrunum02,
    itmpassthrunum03,
    itmpassthrunum04,
    itmpassthrunum05,
    itmpassthrunum06,
    itmpassthrunum07,
    itmpassthrunum08,
    itmpassthrunum09,
    itmpassthrunum10,
    innerpackqty,
    ea_to_cs,
    shipmentstatuscode,
    qtydifference,
    cartontype,
    cslength,
    cswidth,
    csheight,
    length,
    width,
    height,
    rmatrackingno
)
as
select
    S.orderid,
    S.shipid,
    S.custid,
    S.lpid,
    S.fromlpid,
    C.barcode,
    C.barcode,
    S.trackingno,
    nvl(C.barcode,'(none)'),
    nvl(C.barcode,'(none)'),
    nvl(S.trackingno,'(none)'),
    D.dtlpassthrunum10,
    S.item,
    S.lotnumber,
    nvl(S.lotnumber,'(none)'),
    S.useritem1,
    S.useritem2,
    S.useritem3,
    C.quantity,
    D.uom,
    Ceil(zcu.equiv_uom_qty(C.custid,C.item,D.uom, S.quantity, 'CS')),
    D.dtlpassthruchar01,
    D.dtlpassthruchar02,
    D.dtlpassthruchar03,
    D.dtlpassthruchar04,
    D.dtlpassthruchar05,
    D.dtlpassthruchar06,
    D.dtlpassthruchar07,
    D.dtlpassthruchar08,
    D.dtlpassthruchar09,
    D.dtlpassthruchar10,
    D.dtlpassthruchar11,
    D.dtlpassthruchar12,
    D.dtlpassthruchar13,
    D.dtlpassthruchar14,
    D.dtlpassthruchar15,
    D.dtlpassthruchar16,
    D.dtlpassthruchar17,
    D.dtlpassthruchar18,
    D.dtlpassthruchar19,
    D.dtlpassthruchar20,
    D.dtlpassthruchar21,
    D.dtlpassthruchar22,
    D.dtlpassthruchar23,
    D.dtlpassthruchar24,
    D.dtlpassthruchar25,
    D.dtlpassthruchar26,
    D.dtlpassthruchar27,
    D.dtlpassthruchar28,
    D.dtlpassthruchar29,
    D.dtlpassthruchar30,
    D.dtlpassthruchar31,
    D.dtlpassthruchar32,
    D.dtlpassthruchar33,
    D.dtlpassthruchar34,
    D.dtlpassthruchar35,
    D.dtlpassthruchar36,
    D.dtlpassthruchar37,
    D.dtlpassthruchar38,
    D.dtlpassthruchar39,
    D.dtlpassthruchar40,
    D.dtlpassthrunum01,
    D.dtlpassthrunum02,
    D.dtlpassthrunum03,
    D.dtlpassthrunum04,
    D.dtlpassthrunum05,
    D.dtlpassthrunum06,
    D.dtlpassthrunum07,
    D.dtlpassthrunum08,
    D.dtlpassthrunum09,
    D.dtlpassthrunum10,
    D.dtlpassthrunum11,
    D.dtlpassthrunum12,
    D.dtlpassthrunum13,
    D.dtlpassthrunum14,
    D.dtlpassthrunum15,
    D.dtlpassthrunum16,
    D.dtlpassthrunum17,
    D.dtlpassthrunum18,
    D.dtlpassthrunum19,
    D.dtlpassthrunum20,
    D.dtlpassthrudate01,
    D.dtlpassthrudate02,
    D.dtlpassthrudate03,
    D.dtlpassthrudate04,
    D.dtlpassthrudoll01,
    D.dtlpassthrudoll02,
    P.po,
    D.weightship,
    D.cubeship,
    S.item,
    D.qtyship,
    D.qtyorder,
    '000', -- lineseq placeholder
    'Y', -- hazardous placeholder
    substr(S.fromlpid,10),
    substr(S.fromlpid,9),
    'descr                                                 ',
    sysdate, --manufacturedate placeholder
    S.shippingcost,
    S.weight,
    S.serialnumber,
    C.labeltype,
    I.itmpassthruchar01,
    sysdate, --expirationdate placeholder
    I.itmpassthruchar02,
    I.itmpassthruchar03,
    I.itmpassthruchar04,
    I.itmpassthruchar05,
    I.itmpassthruchar06,
    I.itmpassthruchar07,
    I.itmpassthruchar08,
    I.itmpassthruchar09,
    I.itmpassthruchar10,
    I.itmpassthrunum01,
    I.itmpassthrunum02,
    I.itmpassthrunum03,
    I.itmpassthrunum04,
    I.itmpassthrunum05,
    I.itmpassthrunum06,
    I.itmpassthrunum07,
    I.itmpassthrunum08,
    I.itmpassthrunum09,
    I.itmpassthrunum10,
    C.quantity, -- innerpackqty placeholder
    C.quantity, -- ea_to_cs placeholder
    D.uom, --shipmentstatuscode placeholder
    D.qtyship - D.qtyorder,
    S.cartontype,
    S.length,
    S.width,
    S.height,
    S.length,
    S.width,
    S.height,
    S.rmatrackingno
  from allplateview P, caselabels C, orderdtl D, shippingplate S, custitem I
 where C.lpid(+) = S.lpid
   and D.orderid = S.orderid
   and D.shipid = S.shipid
   and D.item = S.orderitem
   and nvl(D.lotnumber,'(none)') = nvl(S.orderlot,'(none)')
   and S.type in ('F','P')
   and D.item = I.item
   and D.custid = I.custid
   and P.lpid(+) = S.fromlpid;

comment on table ship_note_945_cnt is '$Id';

create or replace view ship_note_945_id
(
    orderid,
    shipid,
    custid,
    lpid,
    fromlpid,
    plt_sscc18,
    ctn_sscc18,
    trackingno,
    link_plt_sscc18,
    link_ctn_sscc18,
    link_trackingno,
    dtlpassthrunum01,
    dtlpassthrunum02,
    shippingweight,
    shippingcost,
    cartons,
    totalweight,
    totalvolume,
    labeltype,
    length,
    width,
    height,
    rmatrackingno
)
as
select
    orderid,
    shipid,
    custid,
    lpid,
    fromlpid,
    plt_sscc18,
    ctn_sscc18,
    trackingno,
    link_plt_sscc18,
    link_ctn_sscc18,
    link_trackingno,
    dtlpassthrunum01,
    dtlpassthrunum02,
    shippingweight,
    shippingcost,
    sum(cartons),
    sum(nvl(weight,0)),
    sum(nvl(volume,0)),
    labeltype,
    length,
    width,
    height,
    rmatrackingno
  from ship_note_945_cnt
  group by
    orderid,
    shipid,
    custid,
    lpid,
    fromlpid,
    plt_sscc18,
    ctn_sscc18,
    trackingno,
    link_plt_sscc18,
    link_ctn_sscc18,
    link_trackingno,
    dtlpassthrunum01,
    dtlpassthrunum02,
    shippingweight,
    shippingcost,
    labeltype,
    length,
    width,
    height,
    rmatrackingno;

comment on table ship_note_945_id is '$Id';

create or replace view ship_note_856_id
(
    orderid,
    shipid,
    custid,
    lpid,
    fromlpid,
    plt_sscc18,
    ctn_sscc18,
    trackingno,
    link_plt_sscc18,
    link_ctn_sscc18,
    link_trackingno,
    cartons,
    link_shipment,
    link_aux_shipment,
    dtlpassthrunum01,
    dtlpassthrunum02,
    length,
    width,
    height,
    rmatrackingno
)
as
select
    orderid,
    shipid,
    custid,
    lpid,
    fromlpid,
    plt_sscc18,
    ctn_sscc18,
    trackingno,
    link_plt_sscc18,
    link_ctn_sscc18,
    link_trackingno,
    sum(cartons),
    link_trackingno,
    link_trackingno,
    ' ',
    ' ',
    length,
    width,
    height,
    rmatrackingno
  from ship_note_945_cnt
  group by
    orderid,
    shipid,
    custid,
    lpid,
    fromlpid,
    plt_sscc18,
    ctn_sscc18,
    trackingno,
    link_plt_sscc18,
    link_ctn_sscc18,
    link_trackingno,
    length,
    width,
    height,
    rmatrackingno;


comment on table ship_note_856_id is '$Id';

create or replace view ship_note_945_not
(
    orderid,
    shipid,
    custid,
    lineseq,
    comment1
)
as
select
    orderid,
    shipid,
    custid,
    1,
    comment1
  from orderhdr;

comment on table ship_note_945_not is '$Id';

CREATE OR REPLACE VIEW ship_note_945_ctr
(
    orderid,
    shipid,
    custid,
    loadno,
    cnt_count,
    weight,
    qty
)
as
select
    orderid,
    shipid,
    custid,
    loadno,
    (select count(1) from ship_note_945_cnt),
    (select sum(weight) from ship_note_945_cnt),
    (select sum(qty) from ship_note_945_cnt)
 from dual, orderhdr;

comment on table ship_note_945_ctr is '$Id';

CREATE OR REPLACE VIEW ship_note_945_fac
(
   facility
)
as
select
   distinct warehouse_id
  from ship_note_945_hdr;
comment on table ship_note_945_fac is '$Id';

CREATE OR REPLACE VIEW ship_note_945_mbr
(
   facility,
   po,
   dateshipped,
   orderid,
   lotnumber,
   lpid,
   item,
   weight,
   qty
)
as
select
    h.warehouse_id,
    h.po,
    h.dateshipped,
    h.orderid,
    c.lotnumber,
    c.lpid,
    c.item,
    c.weight,
    c.qty
  from ship_note_945_hdr h,
       ship_note_945_cnt c
  where c.orderid = h.orderid
    and c.shipid = h.shipid;

comment on table ship_note_945_mbr is '$Id';

create or replace view ship_note_856_cnt
(
    orderid,
    shipid,
    custid,
    lpid,
    fromlpid,
    plt_sscc18,
    ctn_sscc18,
    trackingno,
    link_plt_sscc18,
    link_ctn_sscc18,
    link_trackingno,
    assignedid,
    item,
    lotnumber,
    link_lotnumber,
    useritem1,
    useritem2,
    useritem3,
    qty,
    UOM,
    cartons,
    dtlpassthruchar01,
    dtlpassthruchar02,
    dtlpassthruchar03,
    dtlpassthruchar04,
    dtlpassthruchar05,
    dtlpassthruchar06,
    dtlpassthruchar07,
    dtlpassthruchar08,
    dtlpassthruchar09,
    dtlpassthruchar10,
    dtlpassthruchar11,
    dtlpassthruchar12,
    dtlpassthruchar13,
    dtlpassthruchar14,
    dtlpassthruchar15,
    dtlpassthruchar16,
    dtlpassthruchar17,
    dtlpassthruchar18,
    dtlpassthruchar19,
    dtlpassthruchar20,
    dtlpassthruchar21,
    dtlpassthruchar22,
    dtlpassthruchar23,
    dtlpassthruchar24,
    dtlpassthruchar25,
    dtlpassthruchar26,
    dtlpassthruchar27,
    dtlpassthruchar28,
    dtlpassthruchar29,
    dtlpassthruchar30,
    dtlpassthruchar31,
    dtlpassthruchar32,
    dtlpassthruchar33,
    dtlpassthruchar34,
    dtlpassthruchar35,
    dtlpassthruchar36,
    dtlpassthruchar37,
    dtlpassthruchar38,
    dtlpassthruchar39,
    dtlpassthruchar40,
    dtlpassthrunum01,
    dtlpassthrunum02,
    dtlpassthrunum03,
    dtlpassthrunum04,
    dtlpassthrunum05,
    dtlpassthrunum06,
    dtlpassthrunum07,
    dtlpassthrunum08,
    dtlpassthrunum09,
    dtlpassthrunum10,
    dtlpassthrunum11,
    dtlpassthrunum12,
    dtlpassthrunum13,
    dtlpassthrunum14,
    dtlpassthrunum15,
    dtlpassthrunum16,
    dtlpassthrunum17,
    dtlpassthrunum18,
    dtlpassthrunum19,
    dtlpassthrunum20,
    dtlpassthrudate01,
    dtlpassthrudate02,
    dtlpassthrudate03,
    dtlpassthrudate04,
    dtlpassthrudoll01,
    dtlpassthrudoll02,
    po,
    weight,
    volume,
    descr,
    odqtyship,
    odqtyorder,
    serialnumber,
    link_shipment
)
as
select
    orderid,
    shipid,
    custid,
    lpid,
    fromlpid,
    plt_sscc18,
    ctn_sscc18,
    trackingno,
    link_plt_sscc18,
    link_ctn_sscc18,
    link_trackingno,
    assignedid,
    item,
    lotnumber,
    link_lotnumber,
    useritem1,
    useritem2,
    useritem3,
    qty,
    UOM,
    cartons,
    dtlpassthruchar01,
    dtlpassthruchar02,
    dtlpassthruchar03,
    dtlpassthruchar04,
    dtlpassthruchar05,
    dtlpassthruchar06,
    dtlpassthruchar07,
    dtlpassthruchar08,
    dtlpassthruchar09,
    dtlpassthruchar10,
    dtlpassthruchar11,
    dtlpassthruchar12,
    dtlpassthruchar13,
    dtlpassthruchar14,
    dtlpassthruchar15,
    dtlpassthruchar16,
    dtlpassthruchar17,
    dtlpassthruchar18,
    dtlpassthruchar19,
    dtlpassthruchar20,
    dtlpassthruchar21,
    dtlpassthruchar22,
    dtlpassthruchar23,
    dtlpassthruchar24,
    dtlpassthruchar25,
    dtlpassthruchar26,
    dtlpassthruchar27,
    dtlpassthruchar28,
    dtlpassthruchar29,
    dtlpassthruchar30,
    dtlpassthruchar31,
    dtlpassthruchar32,
    dtlpassthruchar33,
    dtlpassthruchar34,
    dtlpassthruchar35,
    dtlpassthruchar36,
    dtlpassthruchar37,
    dtlpassthruchar38,
    dtlpassthruchar39,
    dtlpassthruchar40,
    dtlpassthrunum01,
    dtlpassthrunum02,
    dtlpassthrunum03,
    dtlpassthrunum04,
    dtlpassthrunum05,
    dtlpassthrunum06,
    dtlpassthrunum07,
    dtlpassthrunum08,
    dtlpassthrunum09,
    dtlpassthrunum10,
    dtlpassthrunum11,
    dtlpassthrunum12,
    dtlpassthrunum13,
    dtlpassthrunum14,
    dtlpassthrunum15,
    dtlpassthrunum16,
    dtlpassthrunum17,
    dtlpassthrunum18,
    dtlpassthrunum19,
    dtlpassthrunum20,
    dtlpassthrudate01,
    dtlpassthrudate02,
    dtlpassthrudate03,
    dtlpassthrudate04,
    dtlpassthrudoll01,
    dtlpassthrudoll02,
    po,
    weight,
    volume,
    descr,
    odqtyship,
    odqtyorder,
    serialnumber,
    trackingno
  from ship_note_945_cnt;

comment on table ship_note_856_cnt is '$Id';

exit
