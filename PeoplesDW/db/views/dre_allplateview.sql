create or replace view dre_allplateview
(
LPID,
ITEM,
CUSTID,
FACILITY,
LOCATION,
STATUS,
UNITOFMEASURE,
QUANTITY,
TYPE,
SERIALNUMBER,
LOTNUMBER,
EXPIRATIONDATE,
EXPIRYACTION,
PO,
RECMETHOD,
CONDITION,
LASTOPERATOR,
LASTTASK,
FIFODATE,
PARENTLPID,
USERITEM1,
USERITEM2,
USERITEM3,
INVSTATUS,
INVENTORYCLASS,
statusabbrev,
unitofmeasureabbrev,
recmethodabbrev,
invstatusabbrev,
inventoryclassabbrev,
itemdescr,
platetypeabbrev,
hazardous,
conditionabbrev,
loadno,
orderid,
shipid,
weight,
plateordeleted,
manufacturedate,
qtyrcvd
)
as
select
plate.LPID,
plate.ITEM,
plate.CUSTID,
plate.FACILITY,
plate.LOCATION,
plate.STATUS,
plate.UNITOFMEASURE,
plate.QUANTITY,
plate.TYPE,
plate.SERIALNUMBER,
plate.LOTNUMBER,
plate.EXPIRATIONDATE,
plate.EXPIRYACTION,
plate.PO,
plate.RECMETHOD,
plate.CONDITION,
plate.LASTOPERATOR,
plate.LASTTASK,
plate.FIFODATE,
plate.PARENTLPID,
plate.USERITEM1,
plate.USERITEM2,
plate.USERITEM3,
plate.INVSTATUS,
plate.INVENTORYCLASS,
substr(zlp.platestatus_abbrev(plate.status),1,12),
substr(zit.uom_abbrev(plate.unitofmeasure),1,12),
substr(zlp.handlingtype_abbrev(plate.recmethod),1,12),
substr(zlp.invstatus_abbrev(plate.invstatus),1,12),
substr(zlp.inventoryclass_abbrev(plate.inventoryclass),1,12),
substr(zit.item_descr(plate.custid,plate.item),1,255),
substr(zlp.platetype_abbrev(plate.type),1,12),
substr(zci.hazardous_item(plate.custid,plate.item),1,1),
substr(zlp.condition_abbrev(plate.condition),1,12),
plate.loadno,
plate.orderid,
plate.shipid,
plate.weight,
'P',
plate.manufacturedate,
plate.qtyrcvd
from plate, custitem
where plate.custid = custitem.custid (+)
and plate.item = custitem.item (+)
union all
select
deletedplate.LPID,
deletedplate.ITEM,
deletedplate.CUSTID,
deletedplate.FACILITY,
deletedplate.LOCATION,
deletedplate.STATUS,
deletedplate.UNITOFMEASURE,
deletedplate.QUANTITY,
deletedplate.TYPE,
deletedplate.SERIALNUMBER,
deletedplate.LOTNUMBER,
deletedplate.EXPIRATIONDATE,
deletedplate.EXPIRYACTION,
deletedplate.PO,
deletedplate.RECMETHOD,
deletedplate.CONDITION,
deletedplate.LASTOPERATOR,
deletedplate.LASTTASK,
deletedplate.FIFODATE,
deletedplate.PARENTLPID,
deletedplate.USERITEM1,
deletedplate.USERITEM2,
deletedplate.USERITEM3,
deletedplate.INVSTATUS,
deletedplate.INVENTORYCLASS,
substr(zlp.platestatus_abbrev(deletedplate.status),1,12),
substr(zit.uom_abbrev(deletedplate.unitofmeasure),1,12),
substr(zlp.handlingtype_abbrev(deletedplate.recmethod),1,12),
substr(zlp.invstatus_abbrev(deletedplate.invstatus),1,12),
substr(zlp.inventoryclass_abbrev(deletedplate.inventoryclass),1,12),
substr(zit.item_descr(deletedplate.custid,deletedplate.item),1,255),
substr(zlp.platetype_abbrev(deletedplate.type),1,12),
substr(zci.hazardous_item(deletedplate.custid,deletedplate.item),1,1),
substr(zlp.condition_abbrev(deletedplate.condition),1,12),
deletedplate.loadno,
deletedplate.orderid,
deletedplate.shipid,
deletedplate.weight,
'D',
deletedplate.manufacturedate,
deletedplate.qtyrcvd
from deletedplate, custitem
where deletedplate.custid = custitem.custid (+)
and deletedplate.item = custitem.item (+)
;
comment on table dre_allplateview is '$Id$';
exit;
